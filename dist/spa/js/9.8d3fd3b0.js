(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"6e73":function(e,a,t){"use strict";t.r(a);var l=t("7a23");function n(e,a,t,n,o,r){const c=Object(l["I"])("input-laporan-baru"),s=Object(l["I"])("q-page");return Object(l["A"])(),Object(l["h"])(s,{padding:""},{default:Object(l["P"])((()=>[Object(l["k"])(c)])),_:1})}const o={class:"row"},r={class:"col-4"},c=Object(l["j"])(" Tanggal Surat / Pemeriksaan Pohon "),s={class:"row items-center justify-end"},u={class:"col q-ml-md"},b=Object(l["j"])(" Tanggal Terima Surat "),i={class:"row items-center justify-end"},d={class:"col-4 q-ml-md"},m={class:"column"},p={class:"col self-end text-secondary"};function j(e,a,t,n,j,O){const k=Object(l["I"])("q-icon"),_=Object(l["I"])("q-input"),g=Object(l["I"])("q-btn"),P=Object(l["I"])("q-date"),S=Object(l["I"])("q-popup-proxy"),h=Object(l["I"])("q-step"),f=Object(l["I"])("step-2"),y=Object(l["I"])("step-3"),V=Object(l["I"])("q-stepper-navigation"),w=Object(l["I"])("q-stepper"),v=Object(l["I"])("q-form"),q=Object(l["J"])("close-popup");return Object(l["A"])(),Object(l["h"])(v,{onSubmit:n.onSubmit,class:"q-gutter-md"},{default:Object(l["P"])((()=>[Object(l["k"])("h2",null,Object(l["M"])(n.surat.noSurat),1),Object(l["k"])(w,{modelValue:n.step,"onUpdate:modelValue":a[12]||(a[12]=e=>n.step=e),ref:"stepper",color:"secondary",animated:"","done-color":"green-10","keep-alive":""},{navigation:Object(l["P"])((()=>[Object(l["k"])(V,null,{default:Object(l["P"])((()=>[Object(l["k"])("div",m,[Object(l["k"])("div",p,[Object(l["k"])(g,{onClick:a[10]||(a[10]=a=>[e.$refs.stepper.next()]),color:"primary","text-color":"secondary",label:3===n.step?"Selesai":"Selanjutnya"},{default:Object(l["P"])((()=>[3!==n.step?(Object(l["A"])(),Object(l["h"])(k,{key:0,name:"navigate_next"})):Object(l["i"])("",!0)])),_:1},8,["label"]),n.step>1?(Object(l["A"])(),Object(l["h"])(g,{key:0,flat:"",color:"primary",onClick:a[11]||(a[11]=a=>e.$refs.stepper.previous()),label:"Kembali",class:"q-ml-sm"})):Object(l["i"])("",!0)])])])),_:1})])),default:Object(l["P"])((()=>[Object(l["k"])(h,{name:1,title:"Detail Surat",caption:"Lengkapi detail surat berikut",icon:"assignment",done:n.step>1},{default:Object(l["P"])((()=>[Object(l["k"])("div",o,[Object(l["k"])("div",r,[Object(l["k"])(_,{clearable:"",standout:"bg-blue-10 text-yellow-14",modelValue:n.surat.noSurat,"onUpdate:modelValue":a[1]||(a[1]=e=>n.surat.noSurat=e),label:"Nomor Surat",dense:"",class:"q-mt-sm",autofocus:""},{prepend:Object(l["P"])((()=>[Object(l["k"])(k,{name:"tag"})])),_:1},8,["modelValue"]),Object(l["k"])(_,{standout:"bg-blue-10 text-yellow-14",modelValue:n.surat.tglSurat,"onUpdate:modelValue":a[3]||(a[3]=e=>n.surat.tglSurat=e),"shadow-text":""==n.surat.tglSurat?"< Klik ikon kalender untuk pilih tanggal":"","label-slot":"",clearable:"",class:"q-mt-sm cursor-pointer"},{label:Object(l["P"])((()=>[c])),prepend:Object(l["P"])((()=>[Object(l["k"])(k,{name:"event",class:"cursor-pointer"},{default:Object(l["P"])((()=>[Object(l["k"])(S,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:Object(l["P"])((()=>[Object(l["k"])(P,{modelValue:n.surat.tglSurat,"onUpdate:modelValue":a[2]||(a[2]=e=>n.surat.tglSurat=e),locale:n.localDate,mask:"DD MMMM YYYY"},{default:Object(l["P"])((()=>[Object(l["k"])("div",s,[Object(l["Q"])(Object(l["k"])(g,{label:"Close",color:"primary",flat:""},null,512),[[q]])])])),_:1},8,["modelValue","locale"])])),_:1},512)])),_:1})])),_:1},8,["modelValue","shadow-text"]),Object(l["k"])(_,{clearable:"",standout:"bg-blue-10 text-yellow-14",modelValue:n.surat.kelurahan,"onUpdate:modelValue":a[4]||(a[4]=e=>n.surat.kelurahan=e),label:"Kelurahan PMPTSP",dense:"",class:"q-mt-sm"},{prepend:Object(l["P"])((()=>[Object(l["k"])(k,{name:"home_work"})])),_:1},8,["modelValue"])]),Object(l["k"])("div",u,[Object(l["k"])(_,{clearable:"",standout:"bg-blue-10 text-yellow-14",modelValue:n.surat.noSPIPP,"onUpdate:modelValue":a[5]||(a[5]=e=>n.surat.noSPIPP=e),label:"No. Surat  Permohonan Izin Penebangan Pohon",dense:"",class:"q-mt-sm"},{prepend:Object(l["P"])((()=>[Object(l["k"])(k,{name:"tag"})])),_:1},8,["modelValue"]),Object(l["k"])(_,{standout:"bg-blue-10 text-yellow-14",modelValue:n.surat.tanggalTerimaSurat,"onUpdate:modelValue":a[7]||(a[7]=e=>n.surat.tanggalTerimaSurat=e),"shadow-text":""==n.surat.tanggalTerimaSurat?"< Klik ikon kalender untuk pilih tanggal":"","label-slot":"",clearable:"",class:"q-mt-sm"},{label:Object(l["P"])((()=>[b])),prepend:Object(l["P"])((()=>[Object(l["k"])(k,{name:"event",class:"cursor-pointer"},{default:Object(l["P"])((()=>[Object(l["k"])(S,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:Object(l["P"])((()=>[Object(l["k"])(P,{modelValue:n.surat.tanggalTerimaSurat,"onUpdate:modelValue":a[6]||(a[6]=e=>n.surat.tanggalTerimaSurat=e),locale:n.localDate,mask:"DD MMMM YYYY"},{default:Object(l["P"])((()=>[Object(l["k"])("div",i,[Object(l["Q"])(Object(l["k"])(g,{label:"Close",color:"primary",flat:""},null,512),[[q]])])])),_:1},8,["modelValue","locale"])])),_:1},512)])),_:1})])),_:1},8,["modelValue","shadow-text"]),Object(l["k"])(_,{clearable:"",standout:"bg-blue-10 text-yellow-14",modelValue:n.surat.namaKaUnit,"onUpdate:modelValue":a[8]||(a[8]=e=>n.surat.namaKaUnit=e),label:"Nama Ka Unit",dense:"",class:"q-mt-sm"},{prepend:Object(l["P"])((()=>[Object(l["k"])(k,{name:"account_box"})])),_:1},8,["modelValue"])]),Object(l["k"])("div",d,[Object(l["k"])(_,{clearable:"",filled:"",modelValue:n.surat.alamatPohon,"onUpdate:modelValue":a[9]||(a[9]=e=>n.surat.alamatPohon=e),label:"Alamat Pemohon / Lokasi Pohon",dense:"",class:"q-mt-sm",type:"textarea"},{prepend:Object(l["P"])((()=>[Object(l["k"])(k,{name:"place"})])),_:1},8,["modelValue"])])])])),_:1},8,["done"]),Object(l["k"])(h,{name:2,title:"Detail Lampiran",caption:"Masukan detail laporan",icon:"create_new_folder",done:n.step>2},{default:Object(l["P"])((()=>[Object(l["k"])(f)])),_:1},8,["done"]),Object(l["k"])(h,{name:3,title:"Finish",caption:"Download Laporan",icon:"download"},{default:Object(l["P"])((()=>[Object(l["k"])(y)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["onSubmit"])}var O=t("ded3"),k=t.n(O),_=(t("e6cf"),t("b3fe")),g=t("1431"),P=t("dc59"),S=t("7e43"),h=t("5ed0"),f={components:{Step2:S["a"],Step3:h["a"]},setup(){const e=Object(_["a"])(),a=(Object(l["F"])(),Object(l["E"])({namaPohon:"",namaLatin:"",daun:"",batang:"",akar:"",kecepatanAngin:"",lokasi:"",zona:"",segmen:"",layer1:"",layer2:"",hasil:"",imagelayer1:""})),t=Object(l["E"])({surat_id:0,noSurat:"",tglSurat:"",kelurahan:"",noSPIPP:"",namaKaUnit:"",alamatPohon:"",tanggalTerimaSurat:"",jumlahLampiran:"",laporan:[{namaPohon:"",namaLatin:"",daun:"",batang:"",akar:"",kecepatanAngin:"",lokasi:"",zona:"",segmen:"",layer1:"",layer2:"",hasil:"",imagelayer1:""}]}),n=Object(l["F"])([]),o=async()=>{n.value.push(k()({},a)),t.laporan.push(k()({},a)),console.log(t.laporan)},r=()=>{const e=P["a"].collection("surat").doc("count").onSnapshot((e=>{const a={surat_id:e.data().surat_id+1};t.surat_id=a.surat_id}));return e},c=async()=>{try{await Object(g["a"])(k()({},t)),P["a"].collection("surat").doc("count").update({surat_id:t.surat_id}).then((()=>{console.log("sukses")})).catch((e=>{console.log(e)})),e.notify("berhasil disimpan")}catch(a){console.log(a)}},s=async()=>{try{await Object(g["a"])(k()({},t)),t.id="",t.surat_id="",t.noSurat="",t.tglSurat="",t.kelurahan="",t.noSPIPP="",t.namaKaUnit="",t.alamatPohon="",t.tanggalTerimaSurat="",t.jumlahLampiran=""}catch(e){console.log(e)}};return Object(l["y"])((()=>{r()})),{lampiran:n,laporan:a,tambahLampiran:o,surat:t,onSubmit:s,step:Object(l["F"])(1),submitSurat:c,currentId:r,localDate:{days:"Minggu_Senin_Selasa_Rabu_Kamis_Jum'at_Sabtu".split("_"),daysShort:"Minggu_Senin_Selasa_Rabu_Kamis_Jum'at_Sabtu".split("_"),months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),firstDayOfWeek:1}}}},y=t("f09f"),V=t("27f9"),w=t("9c40"),v=t("0378"),q=t("f531"),I=t("87fe"),x=t("0016"),M=t("7cbe"),D=t("52ee"),U=t("b19c"),Q=t("7f67"),A=t("eebe"),J=t.n(A);f.render=j;var K=f;J()(f,"components",{QCard:y["a"],QInput:V["a"],QBtn:w["a"],QForm:v["a"],QStepper:q["a"],QStep:I["a"],QIcon:x["a"],QPopupProxy:M["a"],QDate:D["a"],QStepperNavigation:U["a"]}),J()(f,"directives",{ClosePopup:Q["a"]});var T={components:{InputLaporanBaru:K}},L=t("9989");T.render=n;a["default"]=T;J()(T,"components",{QPage:L["a"]})}}]);